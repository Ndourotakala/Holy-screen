<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HOLY SCREEN</title>
  <style>
    /* -- Base & Layout ------------------------------------------------- */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: Arial, sans-serif; background: #f4f4f4; color: #111; transition: .3s; }
    body.dark-mode { background: #121212; color: #eee; }

    /* Sidebar & Menu */
    .menu-toggle { position: fixed; top: 10px; left: 10px; font-size: 24px; cursor: pointer; z-index: 1001; }
    .sidebar {
      position: fixed; top: 0; left: -260px; width: 260px; height: 100%; background: #111; color: #fff;
      padding-top: 60px; transition: .3s; z-index: 1000;
    }
    .sidebar.active { left: 0; }
    .sidebar .close-btn { position: absolute; top: 12px; right: 12px; font-size: 28px; cursor: pointer; }
    .sidebar ul { list-style: none; }
    .sidebar li {
      padding: 14px 24px; cursor: pointer; border-bottom: 1px solid rgba(255,255,255,.2);
    }
    .sidebar li:hover { background: rgba(255,255,255,.1); }

    /* Header */
    header {
      position: sticky; top: 0; background: #333; color: #fff;
      display: flex; align-items: center; justify-content: space-between;
      padding: 16px; z-index: 999;
    }
    #siteTitle { margin-left: 20px; color: #ff3300; font-weight: bold; }
    .search-container input {
      padding: 6px; width: 220px; border: 2px solid #ccc; border-radius: 6px;
      animation: pulseBorder 2s infinite;
    }
    @keyframes pulseBorder {
      0%   { box-shadow: 0 0 5px red, 0 0 10px white; }
      50%  { box-shadow: 0 0 15px orange, 0 0 25px red; }
      100% { box-shadow: 0 0 5px white, 0 0 10px orange; }
    }

    /* Container & Grid */
    .container { padding: 20px; }
    .section-title { font-size: 22px; margin: 20px 0 10px; font-weight: bold; }
    .video-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px;
    }
    .video-card {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 ratio */
  height: 0;
  background: #000;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0,0,0,.1);
    }

    .video-card iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

    .action-list {
      display: none; position: absolute; top: 36px; right: 0; background: #222; color: #fff;
      border-radius: 6px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,.3);
    }
    .action-list.show { display: block; }
    .action-list li {
      padding: 8px 12px; cursor: pointer; white-space: nowrap;
    }
    .action-list li:hover { background: #333; }

    /* Buttons */
    .video-card button,
    .glow-button,
    .settings-container button {
      margin-top: 6px; padding: 6px 12px; border: none; background: #ff3300;
      color: #fff; border-radius: 6px; cursor: pointer; transition: .3s;
    }
    .video-card button:hover,
    .glow-button:hover,
    .settings-container button:hover { background: #ff6600; }

    /* Panels */
    #signInPage, #signUpPage, #settingsPage {
      display: none; min-height: 100vh; padding: 40px 20px;
      background: radial-gradient(circle at top left, #220000, #000 80%);
      color: #fff; position: relative; overflow-y: auto;
      animation: fadeInPanel .6s ease;
    }
    @keyframes fadeInPanel {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Form & Settings */
    .form-container {
      max-width: 500px; margin: auto; background: #1a0000;
      padding: 30px; border-radius: 12px; box-shadow: 0 0 20px #ff3300;
      animation: pulseGlow 4s infinite ease-in-out;
    }
    @keyframes pulseGlow {
      0%,100% { box-shadow: 0 0 12px #ff3300; }
      50%     { box-shadow: 0 0 20px #ff6600; }
    }
    .form-container input {
      width: 100%; padding: 12px; margin-bottom: 12px;
      border-radius: 6px; border: 1px solid #ff6600;
      background: #300000; color: #fff; font-size: 16px; transition: .3s;
    }
    .form-container input:focus { outline: none; box-shadow: 0 0 10px #ff9900; }
    .form-container a { display: block; margin-top: 12px; text-align: center; color: #ffcc99; }
    .glow-button {
      width: 100%; background: linear-gradient(to right,#ff3300,#ff6600);
      color: #fff; padding: 12px; border-radius: 8px; font-size: 16px;
      box-shadow: 0 0 10px #ff3300; transition: .3s; display: block;
    }

    .settings-container {
      display: grid; grid-template-columns: 1fr 1fr; gap: 24px;
      background: linear-gradient(to bottom right,#0d0d0d,#330000);
      padding: 40px; border-radius: 12px; max-width: 800px; margin: auto;
      box-shadow: 0 0 15px #ff3300,0 0 25px #990000; max-height: 90vh; overflow-y: auto;
    }
    .settings-container h2 {
      grid-column: span 2; border-bottom: 1px solid rgba(255,255,255,.2);
      padding-bottom: 6px; margin-bottom: 10px; color: #ff6600;
    }
    .settings-container label { font-weight: bold; margin-bottom: 6px; display: block; color: #ffdddd; }
    .settings-container input,
    .settings-container select {
      width: 90%; padding: 10px; border-radius: 8px; border: 1px solid #ff3300;
      background: #220000; color: #fff; transition: .3s;
    }
    .settings-container input:focus,
    .settings-container select:focus {
      outline: none; border: 2px solid #ff6600; box-shadow: 0 0 10px #ff3300;
    }
    #qualityMsg, #generalSettingsMsg {
      grid-column: span 2; margin-top: 10px; font-weight: bold; color: #ffeecc;
    }

    /* Footer */
    footer { background: #222; color: #fff; text-align: center; padding: 20px; margin-top: 20px; }

    @media (max-width: 600px) {
      .video-grid, .settings-container { grid-template-columns: 1fr !important; }
    }
  </style>
</head>
<body onload="initPage()">

  <!-- MENU & SIDEBAR -->
  <div class="menu-toggle" id="menuToggle">=</div>
  <nav class="sidebar" id="sidebar">
    <div class="close-btn" id="closeSidebar">×</div>
    <ul>
      <li onclick="showLibrary()">Library</li>
      <li onclick="openSignInPage()">Sign In</li>
      <li onclick="openSignUpPage()">Sign Up</li>
      <li onclick="openSettings()">Settings</li>
      <li onclick="toggleMode()">Theme</li>
      <li onclick="signOut()">Sign Out</li>
    </ul>
  </nav>

  <!-- HEADER -->
  <header>
    <div id="siteTitle">HOLY SCREEN</div>
    <div class="search-container">
      <input id="searchInput" placeholder="Search videos..." onkeyup="searchVideos()" />
    </div>
    <a id="profileBtn" href="javascript:void(0)" onclick="openSettings()" style="display:none;"></a>
  </header>
<main class="container" id="library">
  <div class="section-title">HOLY SCREEN Movie Library</div>
  <div class="video-grid">

    <!-- JESUS – Tshivenda -->
    <div class="video-card" onclick="logWatched('JESUS – Tshivenda')">
      <iframe data-quality
              src="https://www.youtube.com/embed/LJLxjhQIXNU?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Tshivenda</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Tshivenda')">Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Tshivenda')">Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Tshivenda','https://youtu.be/LJLxjhQIXNU')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- JESUS – Sepedi -->
    <div class="video-card" onclick="logWatched('JESUS – Sepedi')">
      <iframe data-quality
              src="https://www.youtube.com/embed/Jh921zkJpfc?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Sepedi</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Sepedi')">Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Sepedi')">Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Sepedi','https://youtu.be/Jh921zkJpfc')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- JESUS – Tsonga -->
    <div class="video-card" onclick="logWatched('JESUS – Tsonga')">
      <iframe data-quality
              src="https://www.youtube.com/embed/-5LRQbzzDuc?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Tsonga</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Tsonga')">? Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Tsonga')">?? Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Tsonga','https://youtu.be/-5LRQbzzDuc')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- JESUS – Zulu -->
    <div class="video-card" onclick="logWatched('JESUS – Zulu')">
      <iframe data-quality
              src="https://www.youtube.com/embed/9jE6KFiQouY?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Zulu</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Zulu')">Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Zulu')">Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Zulu','https://youtu.be/9jE6KFiQouY')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- JESUS – Xhosa -->
    <div class="video-card" onclick="logWatched('JESUS – Xhosa')">
      <iframe data-quality
              src="https://www.youtube.com/embed/zd7yaTYKgQ4?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Xhosa</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Xhosa')">Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Xhosa')">Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Xhosa','https://youtu.be/zd7yaTYKgQ4')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- JESUS – Afrikaans -->
    <div class="video-card" onclick="logWatched('JESUS – Afrikaans')">
      <iframe data-quality
              src="https://www.youtube.com/embed/pmlr5qgEXQg?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Afrikaans</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Afrikaans')">Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Afrikaans')">Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Afrikaans','https://youtu.be/pmlr5qgEXQg')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- JESUS – Setswana -->
    <div class="video-card" onclick="logWatched('JESUS – Setswana')">
      <iframe data-quality
              src="https://www.youtube.com/embed/uc39r9o87jo?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Setswana</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Setswana')">Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Setswana')">Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Setswana','https://youtu.be/uc39r9o87jo')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- JESUS – Sesotho -->
    <div class="video-card" onclick="logWatched('JESUS – Sesotho')">
      <iframe data-quality
              src="https://www.youtube.com/embed/2YibcWSHww4?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">JESUS – Sesotho</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('JESUS – Sesotho')">Add to Playlist</li>
          <li onclick="addToFavorites('JESUS – Sesotho')">Favorite</li>
          <li onclick="shareToWhatsApp('JESUS – Sesotho','https://youtu.be/2YibcWSHww4')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Gospel of John -->
    <div class="video-card" onclick="logWatched('Gospel of John')">
      <iframe data-quality
              src="https://www.youtube.com/embed/-k0D_qFPb4o?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Gospel of John</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Gospel of John')">Add to Playlist</li>
          <li onclick="addToFavorites('Gospel of John')">Favorite</li>
          <li onclick="shareToWhatsApp('Gospel of John','https://youtu.be/-k0D_qFPb4o')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Gospel of Matthew -->
    <div class="video-card" onclick="logWatched('Gospel of Matthew')">
      <iframe data-quality
              src="https://www.youtube.com/embed/2ErTneBIJJs?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Gospel of Matthew</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Gospel of Matthew')">Add to Playlist</li>
          <li onclick="addToFavorites('Gospel of Matthew')">Favorite</li>
          <li onclick="shareToWhatsApp('Gospel of Matthew','https://youtu.be/2ErTneBIJJs')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">? Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Gospel of Mark -->
    <div class="video-card" onclick="logWatched('Gospel of Mark')">
      <iframe data-quality
              src="https://www.youtube.com/embed/rh9yjReuWH0?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Gospel of Mark</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Gospel of Mark')">Add to Playlist</li>
          <li onclick="addToFavorites('Gospel of Mark')">Favorite</li>
          <li onclick="shareToWhatsApp('Gospel of Mark','https://youtu.be/rh9yjReuWH0')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Gospel of Luke -->
    <div class="video-card" onclick="logWatched('Gospel of Luke')">
      <iframe data-quality
              src="https://www.youtube.com/embed/klzda4dYqio?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Gospel of Luke</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Gospel of Luke')">Add to Playlist</li>
          <li onclick="addToFavorites('Gospel of Luke')">Favorite</li>
          <li onclick="shareToWhatsApp('Gospel of Luke','https://youtu.be/klzda4dYqio')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Magdalena – A Jesus Story -->
    <div class="video-card" onclick="logWatched('Magdalena – A Jesus Story')">
      <iframe data-quality
              src="https://www.youtube.com/embed/BXWH0PNccbk?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Magdalena – A Jesus Story</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Magdalena – A Jesus Story')">Add to Playlist</li>
          <li onclick="addToFavorites('Magdalena – A Jesus Story')">Favorite</li>
          <li onclick="shareToWhatsApp('Magdalena – A Jesus Story','https://youtu.be/BXWH0PNccbk')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Moses (1995) -->
    <div class="video-card" onclick="logWatched('Moses (1995)')">
      <iframe data-quality
              src="https://www.youtube.com/embed/KX83ed0Tg6g?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Moses (1995)</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Moses (1995)')">Add to Playlist</li>
          <li onclick="addToFavorites('Moses (1995)')">Favorite</li>
          <li onclick="shareToWhatsApp('Moses (1995)','https://youtu.be/KX83ed0Tg6g')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Moses and Exodus -->
    <div class="video-card" onclick="logWatched('Moses and Exodus')">
      <iframe data-quality
              src="https://www.youtube.com/embed/RnmBUpofgpY?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Moses and Exodus</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Moses and Exodus')">Add to Playlist</li>
          <li onclick="addToFavorites('Moses and Exodus')">Favorite</li>
          <li onclick="shareToWhatsApp('Moses and Exodus','https://youtu.be/RnmBUpofgpY')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Abraham and Sarah – Great People of the Bible -->
    <div class="video-card" onclick="logWatched('Abraham and Sarah – Great People of the Bible')">
      <iframe data-quality
              src="https://www.youtube.com/embed/_f_jJ2sG24A?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Abraham and Sarah – Great People of the Bible</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Abraham and Sarah – Great People of the Bible')">Add to Playlist</li>
          <li onclick="addToFavorites('Abraham and Sarah – Great People of the Bible')">Favorite</li>
          <li onclick="shareToWhatsApp('Abraham and Sarah – Great People of the Bible','https://youtu.be/_f_jJ2sG24A')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Genesis – Abraham (KJV) -->
    <div class="video-card" onclick="logWatched('Genesis – Abraham (KJV)')">
      <iframe data-quality
              src="https://www.youtube.com/embed/JZoQZw22nGo?rel=0&start=587"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Genesis – Abraham (KJV)</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Genesis – Abraham (KJV)')">Add to Playlist</li>
          <li onclick="addToFavorites('Genesis – Abraham (KJV)')">Favorite</li>
          <li onclick="shareToWhatsApp('Genesis – Abraham (KJV)','https://youtu.be/JZoQZw22nGo?start=587')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Book of Genesis -->
    <div class="video-card" onclick="logWatched('Book of Genesis')">
      <iframe data-quality
              src="https://www.youtube.com/embed/JMde2CS7NFc?rel=0&start=587"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Book of Genesis</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Book of Genesis')">Add to Playlist</li>
          <li onclick="addToFavorites('Book of Genesis')">Favorite</li>
          <li onclick="shareToWhatsApp('Book of Genesis','https://youtu.be/JMde2CS7NFc?start=587')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))">Fullscreen</li>
        </ul>
      </div>
    </div>

    <!-- Story of Ruth -->
    <div class="video-card" onclick="logWatched('Story of Ruth')">
      <iframe data-quality
              src="https://www.youtube.com/embed/kW5WyJ1QNpM?rel=0"
              allow="autoplay; fullscreen" allowfullscreen></iframe>
      <div class="video-title">Story of Ruth</div>
      <div class="action-menu">
        <button class="action-button" onclick="toggleMenu(this); event.stopPropagation()"></button>
        <ul class="action-list">
          <li onclick="addToPlaylist('Story of Ruth')">Add to Playlist</li>
          <li onclick="addToFavorites('Story of Ruth')">Favorite</li>
          <li onclick="shareToWhatsApp('Story of Ruth','https://youtu.be/kW5WyJ1QNpM')">Share</li>
          <li onclick="toggleFullScreen(this.closest('.video-card'))"Fullscreen</li>
        </ul>
      </div>
    </div>

  </div>
</main>

  <!-- SIGN IN PAGE -->
  <section id="signInPage">
    <div class="form-container">
      <h1>Sign In to HOLY SCREEN</h1>
      <label for="signInEmail">Email</label>
      <input id="signInEmail" type="email" placeholder="Email" required />
      <label for="signInPassword">Password</label>
      <input id="signInPassword" type="password" placeholder="Password" required />
      <button class="glow-button" onclick="submitSignIn()">Sign In</button>
      <button class="glow-button" onclick="fakeGoogleSignIn()">Continue with Google</button>
      <button class="glow-button" onclick="fakeFacebookSignIn()">Continue with Facebook</button>
      <p><a href="javascript:void(0)" onclick="openSignUpPage()">Need an account? Sign Up</a></p>
      <button class="glow-button" onclick="goHome()">Back to Library</button>
      <div id="signInMessage"></div>
    </div>
  </section>

  <!-- SIGN UP PAGE -->
  <section id="signUpPage">
    <div class="form-container">
      <h1>Create HOLY SCREEN Account</h1>
      <label for="signUpEmail">Email</label>
      <input id="signUpEmail" type="email" placeholder="Email" required />
      <label for="signUpPassword">Password</label>
      <input id="signUpPassword" type="password" placeholder="Password (min 6 chars)" required />
      <label for="signUpConfirm">Confirm Password</label>
      <input id="signUpConfirm" type="password" placeholder="Confirm Password" required />
      <button class="glow-button" onclick="submitSignUp()">Sign Up</button>
      <p><a href="javascript:void(0)" onclick="openSignInPage()">Already have an account? Sign In</a></p>
      <button class="glow-button" onclick="goHome()">Back to Library</button>
      <div id="signUpMessage"></div>
    </div>
  </section>

  <!-- SETTINGS PAGE -->
  <section id="settingsPage">
    <h1>My Settings</h1>
    <div class="settings-container">
      <h2>Profile</h2>
      <div style="grid-column:span 2; text-align:center;">
        <img id="userPhoto" src="https://via.placeholder.com/80"
             style="border-radius:50%; box-shadow:0 0 12px #ff3300;" />
        <p>Welcome, <strong id="profileEmail">Guest</strong></p>
        <p>Status: <strong id="profileStatus">Guest</strong></p>
      </div>

      <h2>Profile Photo</h2>
      <input type="file" accept="image/*" onchange="saveProfilePhoto(this)" />

      <h2>Watch History</h2>
      <ul id="historyList" style="list-style:none; padding:0; grid-column:span 2;">
        <li>No history yet</li>
      </ul>
      <button onclick="clearHistory()" style="grid-column:span 2;">Clear History</button>

      <h2>My Playlists</h2>
      <label for="playlistName">Name Your Playlist</label>
      <input id="playlistName" placeholder="E.g. Bible Heroes" />
      <button onclick="createPlaylist()">Create Playlist</button>
      <div id="playlistsView" style="grid-column:span 2;"></div>

      <h2>Break Reminder</h2>
      <label for="breakMinutes">Minutes</label>
      <input id="breakMinutes" type="number" min="1" placeholder="30" />
      <button onclick="startBreakReminder()">Start Break Timer</button>

      <h2>Bedtime Reminder</h2>
      <label for="bedtimeInput">Set Time</label>
      <input id="bedtimeInput" type="time" />
      <button onclick="setBedtimeReminder()">Set Bedtime</button>

      <h2>Language</h2>
      <label for="languageInput">Preferred Language</label>
      <input id="languageInput" placeholder="English, Zulu..." />
      <button onclick="setGlobalLanguage()">Save Language</button>

      <h2>Video Quality</h2>
      <label for="qualitySelect">Quality</label>
      <select id="qualitySelect">
        <option value="default">Auto / Default</option>
        <option value="hd">HD (720p)</option>
        <option value="fullhd">Full HD (1080p)</option>
        <option value="low">Low (360p)</option>
      </select>
      <button onclick="saveQuality()">Save Quality</button>
      <div id="qualityMsg"></div>

      <button class="glow-button" onclick="goHome()" style="grid-column:span 2;">Back to Library</button>
      <div id="generalSettingsMsg"></div>
    </div>
  </section>

  <footer>&copy; 2025 HOLY SCREEN</footer>

  <script>
    // Detect system theme on first visit
    if (!localStorage.getItem('theme')) {
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      localStorage.setItem('theme', prefersDark ? 'dark' : 'light');
    }

    let breakTimer;

    function initPage() {
      if (localStorage.getItem('theme') === 'dark') document.body.classList.add('dark-mode');
      if (localStorage.getItem('loggedIn') === 'true') {
        document.getElementById('profileBtn').style.display = 'block';
        document.getElementById('profileEmail').innerText = localStorage.getItem('email');
        document.getElementById('profileStatus').innerText = 'Signed In';
      }
      applyVideoQuality();
    }

    function applyVideoQuality() {
      const q = localStorage.getItem('videoQuality'),
            iframes = document.querySelectorAll('iframe[data-quality]');
      if (!q || q === 'default') return;
      iframes.forEach(f => {
        const base = f.src.split('?')[0];
        let params = ['rel=0'];
        if (q === 'hd') params.push('vq=hd720');
        if (q === 'fullhd') params.push('vq=hd1080');
        if (q === 'low') params.push('vq=small');
        f.src = base + '?' + params.join('&');
      });
    }

    // Sidebar toggle
    const sidebar = document.getElementById('sidebar'),
          menuToggle = document.getElementById('menuToggle'),
          closeSidebar = document.getElementById('closeSidebar');
    menuToggle.onclick = e => { e.stopPropagation(); sidebar.classList.toggle('active'); };
    closeSidebar.onclick = () => sidebar.classList.remove('active');
    document.addEventListener('click', e => {
      if (sidebar.classList.contains('active') &&
          !sidebar.contains(e.target) &&
          e.target !== menuToggle) {
        sidebar.classList.remove('active');
      }
    });

    // Navigation
    function hideAll() {
      ['library','signInPage','signUpPage','settingsPage'].forEach(id => {
        document.getElementById(id).style.display = 'none';
      });
    }
    function showLibrary() { hideAll(); document.getElementById('library').style.display = 'block'; }
    function openSignInPage() { hideAll(); document.getElementById('signInPage').style.display = 'block'; }
    function openSignUpPage() { hideAll(); document.getElementById('signUpPage').style.display = 'block'; }
    function openSettings() {
      hideAll();
      document.getElementById('settingsPage').style.display = 'block';
      document.getElementById('profileEmail').innerText = localStorage.getItem('email') || 'Guest';
      document.getElementById('profileStatus').innerText = localStorage.getItem('loggedIn') === 'true' ? 'Signed In' : 'Guest';
      loadProfilePhoto();
      renderWatchHistory();
      renderPlaylists();
    }
    function goHome() { showLibrary(); }

    // Auth
    function submitSignIn() {
      const e = document.getElementById('signInEmail').value.trim(),
            p = document.getElementById('signInPassword').value.trim(),
            m = document.getElementById('signInMessage');
      if (!e || p.length < 6 || localStorage.getItem(e) !== p) {
        m.innerText = 'Invalid credentials'; return;
      }
      localStorage.setItem('loggedIn','true');
      localStorage.setItem('email', e);
      m.innerText = 'Signed in!';
      document.getElementById('profileBtn').style.display = 'block';
      setTimeout(goHome, 800);
    }
    function submitSignUp() {
      const e = document.getElementById('signUpEmail').value.trim(),
            p = document.getElementById('signUpPassword').value.trim(),
            c = document.getElementById('signUpConfirm').value.trim(),
            m = document.getElementById('signUpMessage');
      if (!e || p.length < 6 || p !== c) {
        m.innerText = 'Enter valid info & match password'; return;
      }
      if (localStorage.getItem(e)) {
        m.innerText = 'Email already exists'; return;
      }
      localStorage.setItem(e, p);
      m.innerText = 'Account created!'; 
      setTimeout(openSignInPage, 800);
    }
    function signOut() {
      localStorage.removeItem('loggedIn');
      localStorage.removeItem('email');
      document.getElementById('profileBtn').style.display = 'none';
      alert('Signed out');
      goHome();
    }

    // Fake OAuth
    function fakeGoogleSignIn() {
      const email = prompt('Enter Google email:');
      if (!email || !email.includes('@')) return alert('Invalid email');
      localStorage.setItem('loggedIn','true');
      localStorage.setItem('email', email);
      document.getElementById('profileEmail').innerText = email;
      document.getElementById('profileStatus').innerText = 'Signed In via Google';
      document.getElementById('profileBtn').style.display = 'block';
      goHome();
    }
    function fakeFacebookSignIn() {
      const email = prompt('Enter Facebook email:');
      if (!email || !email.includes('@')) return alert('Invalid email');
      localStorage.setItem('loggedIn','true');
      localStorage.setItem('email', email);
      document.getElementById('profileEmail').innerText = email;
      document.getElementById('profileStatus').innerText = 'Signed In via Facebook';
      document.getElementById('profileBtn').style.display = 'block';
      goHome();
    }

    // Profile Photo
    function saveProfilePhoto(input) {
      const file = input.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const photoURL = e.target.result;
        document.getElementById('userPhoto').src = photoURL;
        localStorage.setItem('profilePhoto', photoURL);
      };
      reader.readAsDataURL(file);
    }
    function loadProfilePhoto() {
      const photo = localStorage.getItem('profilePhoto');
      if (photo) {
        document.getElementById('userPhoto').src = photo;
      }
    }

    // Watch History & Playlists
    function logWatched(title) {
      const arr = JSON.parse(localStorage.getItem('watchHistory')||'[]');
      arr.push({ title, time: new Date().toLocaleString() });
      localStorage.setItem('watchHistory', JSON.stringify(arr));
    }
    function renderWatchHistory() {
      const arr = JSON.parse(localStorage.getItem('watchHistory')||'[]'),
            ul  = document.getElementById('historyList');
      ul.innerHTML = arr.length ? '' : '<li>No history</li>';
      arr.slice(-5).reverse().forEach(it => {
        const li = document.createElement('li');
        li.innerText = `${it.title} @ ${it.time}`;
        ul.append(li);
      });
    }
    function clearHistory() {
      localStorage.removeItem('watchHistory'); renderWatchHistory();
    }
    function createPlaylist() {
      const name = document.getElementById('playlistName').value.trim(),
            lists = JSON.parse(localStorage.getItem('playlists')||'{}');
      if (!name) { alert('Enter a name'); return; }
      if (lists[name]) { alert('Exists'); return; }
      lists[name] = []; localStorage.setItem('playlists', JSON.stringify(lists));
      document.getElementById('playlistName').value = ''; renderPlaylists();
    }
    function renderPlaylists() {
      const lists = JSON.parse(localStorage.getItem('playlists')||'{}'),
            view  = document.getElementById('playlistsView');
      view.innerHTML = Object.keys(lists).length ? '' : '<p>No playlists</p>';
      Object.keys(lists).forEach(key => {
        const div = document.createElement('div');
        div.innerHTML = `<strong>${key}</strong> (${lists[key].length})`;
        view.append(div);
      });
    }
    function addToPlaylist(title) {
      const lists  = JSON.parse(localStorage.getItem('playlists')||'{}'),
            chosen = prompt('Add to which playlist?', Object.keys(lists).join(', '));
      if (!lists[chosen]) { alert('Playlist not found'); return; }
      lists[chosen].push(title);
      localStorage.setItem('playlists', JSON.stringify(lists));
      alert(`${title} added to ${chosen}`);
    }

    // Favorites & Sharing
    function addToFavorites(title) {
      const fav = JSON.parse(localStorage.getItem('favorites')||'[]');
      fav.push(title); localStorage.setItem('favorites', JSON.stringify(fav));
      alert(`?? "${title}" saved`);
    }
    function shareToWhatsApp(title, url) {
      const msg = `Watch "${title}" on HOLY SCREEN: ${url}`;
      window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`, '_blank');
    }

    // Reminders
    function startBreakReminder() {
      const m = parseInt(document.getElementById('breakMinutes').value);
      if (!m || m < 1) { alert('Enter minutes =1'); return; }
      clearTimeout(breakTimer);
      breakTimer = setTimeout(() => alert('?? Time for a break!'), m * 60000);
    }
    function setBedtimeReminder() {
      const t = document.getElementById('bedtimeInput').value;
      if (!t) { alert('Set time'); return; }
      localStorage.setItem('bedtime', t);
      alert(`Bedtime set for ${t}`);
    }
    setInterval(() => {
      const t = localStorage.getItem('bedtime');
      if (t) {
        const [h,m] = t.split(':').map(Number), now = new Date();
        if (now.getHours() === h && now.getMinutes() === m) {
          alert('?? It\'s bedtime.');
        }
      }
    }, 60000);

    // Preferences
    function setGlobalLanguage() {
      const l = document.getElementById('languageInput').value.trim();
      if (!l) { alert('Enter language'); return; }
      localStorage.setItem('preferredLanguage', l);
      alert(`Language: ${l}`);
    }
    function saveQuality() {
      const q = document.getElementById('qualitySelect').value;
      localStorage.setItem('videoQuality', q);
      applyVideoQuality();
      alert(`Quality: ${q}`);
    }
    function toggleMode() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme',
        document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    }

    // Search
    function searchVideos() {
      const q = document.getElementById('searchInput').value.toLowerCase();
      document.querySelectorAll('.video-card').forEach(card => {
        const title = card.querySelector('.video-title').innerText.toLowerCase();
        card.style.display = title.includes(q) ? 'block' : 'none';
      });
    }

    // Fullscreen
    function toggleFullScreen(el) {
      const target = el.tagName === 'IFRAME' ? el : el.querySelector('iframe');
      if (!document.fullscreenElement) {
        target.requestFullscreen?.() ||
        target.webkitRequestFullscreen?.() ||
        target.mozRequestFullScreen?.();
      } else {
        document.exitFullscreen();
      }
    }

    // Action Menu
    function toggleMenu(btn) {
      const list = btn.nextElementSibling;
      document.querySelectorAll('.action-list.show').forEach(el => el.classList.remove('show'));
      list.classList.toggle('show');
    }
    window.onclick = e => {
      if (!e.target.matches('.action-button')) {
        document.querySelectorAll('.action-list.show').forEach(el => el.classList.remove('show'));
      }
    };
  </script>
</body>
</html>
